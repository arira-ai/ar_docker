# Exercise 01 — Basic Docker Volumes

## Concept
Docker volumes are the preferred mechanism for persisting data generated by and used by Docker containers. Volumes live outside the Union File System of a container and are managed by Docker. They persist across container restarts and can be shared between containers.

**Why do we do this?**  
To keep container images immutable and stateless while maintaining persistent data (databases, uploads, logs).

## The Challenge
1. Create a Docker volume named `john_data`.
2. Run an nginx container that writes a small file into `/usr/share/nginx/html` using that volume.
3. Stop and remove the container and confirm the file still exists by running a temporary container mounting the same volume.

## Solution — exact commands

```bash
# 1) Create a docker volume
docker volume create john_data

# 2) Start an nginx container mounting the volume at /usr/share/nginx/html
docker run -d --name nginx_vol_test -v john_data:/usr/share/nginx/html:rw nginx:alpine

# 3) Exec into the running container and create an index.html
docker exec nginx_vol_test sh -c "echo 'Hello from John - volume demo' > /usr/share/nginx/html/index.html"

# 4) Verify inside the container
docker exec nginx_vol_test cat /usr/share/nginx/html/index.html

# 5) Stop and remove the container
docker stop nginx_vol_test
docker rm nginx_vol_test

# 6) Start a temporary busybox container mounting the same volume to verify persistence
docker run --rm -v john_data:/data busybox sh -c "cat /data/index.html"
```

## Expected Output (text representation)

```
# docker volume create john_data
john_data

# docker run -d ... nginx:alpine
<container-id>

# docker exec ... cat index.html
Hello from John - volume demo

# docker stop nginx_vol_test
nginx_vol_test

# docker rm nginx_vol_test
nginx_vol_test

# docker run --rm -v john_data:/data busybox sh -c "cat /data/index.html"
Hello from John - volume demo
```

## K8s Connection
Docker Volumes map to Kubernetes PersistentVolumes (PV) and PersistentVolumeClaims (PVC). In K8s you request storage via a PVC; the control plane binds it to a PV (backed by hostPath, NFS, cloud disk, etc.). The persistence idea is identical: keep state outside ephemeral container filesystem.
